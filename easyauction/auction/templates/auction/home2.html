{% extends 'auction/base2.html' %}

{% block title %}Home{% endblock %}

{% block content %}

<v-container fluid>
    <v-card outlined>
        <v-tabs color="blue" centered grow>
            <v-tab>
                Hosted Auctions
            </v-tab>
            <v-tab>
                Joined Auctions
            </v-tab>
            <v-tab-item>
                <v-list>
                    <v-subheader>My Auctions</v-subheader>
                    {% if hosted_auctions.exists %}
                        {% for auction in hosted_auctions %}
                            <v-list-item href="{% url 'auction:auction_detail' pk=auction.pk %}">
                                <v-list-item-avatar tile size="100"><v-img src="{{ auction.image.url }}"></v-img></v-list-item-avatar>
                                <v-list-item-content>
                                    <v-list-item-title>{{ auction.name }}</v-list-item-title>
                                    <v-list-item-subtitle>{{ auction.time_created }}</v-list-item-subtitle>
                                </v-list-item-content>
                            </v-list-item>
                        {% endfor %}
                    {% else %}
                        <v-list-item href="{% url 'auction:create_auction' %}">
                            <v-list-item-content>
                                <v-list-item-title>No Auctions Created</v-list-item-title>
                                <v-list-item-subtitle>Click here to create an auction</v-list-item-subtitle>
                            </v-list-item-content>
                        </v-list-item>
                    {% endif %}
                </v-list>
            </v-tab-item>

            <v-tab-item>
                <v-list>
                    <v-subheader>Joined Auctions</v-subheader>
                    {% if joined_auctions.exists %}
                        {% for auction in joined_auctions %}
                            <v-list-item href="{% url 'auction:auction_detail' pk=auction.pk %}">
                                <v-list-item-avatar tile size="100"><v-img src="{{ auction.image.url }}"></v-img></v-list-item-avatar>
                                <v-list-item-content>
                                    <v-list-item-title>{{ auction.name }}</v-list-item-title>
                                    <v-list-item-subtitle>{{ auction.time_created }}</v-list-item-subtitle>
                                </v-list-item-content>
                            </v-list-item>
                        {% endfor %}
                    {% else %}
                        <v-list-item href="{% url 'auction:enter_local_code' %}">
                            <v-list-item-content>
                                <v-list-item-title>No Auctions Joined</v-list-item-title>
                                <v-list-item-subtitle>Click here to enter auction code</v-list-item-subtitle>
                            </v-list-item-content>
                        </v-list-item>
                    {% endif %}
                </v-list>
            </v-tab-item>
        </v-tabs>
    </v-card>
</v-container>

{% endblock %}

{% block vue %}
    <script>
    Vue.use(Vuetify);

    home_vue = new Vue({
            el: '#app',
            vuetify: new Vuetify(),
            data: {
                drawer: false,
            },
            delimiters: ["[[", "]]"],
    });
    </script>
{% endblock %}